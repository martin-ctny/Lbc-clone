{"ast":null,"code":"var _jsxFileName = \"/Users/martincantonny/Desktop/code/atelier/clone-lbc/mongoose/app/src/components/posts/PostList.jsx\",\n  _s = $RefreshSig$();\nimport { Box, Button } from \"@mui/material\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport PostsService from \"../../src/services/post.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PostList = () => {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    getAllPosts();\n  }, []);\n  const getAllPosts = async () => {\n    try {\n      const allPosts = await PostsService.getPosts();\n      setPosts(allPosts);\n      console.log(allPosts);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const handleDelete = (e, id) => {\n    e.preventDefault();\n    PostsService.deletePost(id);\n    const filteredPosts = posts.filter(post => post._id !== id);\n    setPosts(filteredPosts);\n  };\n  const handleClick = (e, id) => {\n    navigate(`/posts/${id}`);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: \"flex\",\n      gap: 5\n    },\n    children: posts === null || posts === void 0 ? void 0 : posts.map(post => {\n      var _post$uploadFiles$;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: \"10px\",\n          justifyContent: \"center\",\n          backgroundColor: \"white\",\n          padding: \"20px\",\n          borderRadius: \"10px\",\n          boxShadow: \"0 0 10px 0 rgba(0, 0, 0, 0.2)\"\n        },\n        children: [post._id && post.uploadFiles.length > 0 && /*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            width: \"300px\",\n            height: \"150px\",\n            objectFit: \"cover\"\n          },\n          src: (_post$uploadFiles$ = post.uploadFiles[0]) === null || _post$uploadFiles$ === void 0 ? void 0 : _post$uploadFiles$.Location,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: post.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            flex: 1\n          },\n          children: post.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: \"flex\",\n            gap: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            sx: {\n              mb: 4,\n              width: \"100%\"\n            },\n            onClick: e => handleClick(e, post._id),\n            children: \"voir\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            sx: {\n              mb: 4,\n              width: \"100%\"\n            },\n            onClick: e => handleDelete(e, post._id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, post.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(PostList, \"wlX5Q2vHIOaliHXiQZ2fNKb4Q3U=\", false, function () {\n  return [useNavigate];\n});\n_c = PostList;\nexport default PostList;\nvar _c;\n$RefreshReg$(_c, \"PostList\");","map":{"version":3,"names":["Box","Button","useState","useEffect","useNavigate","PostsService","jsxDEV","_jsxDEV","PostList","_s","posts","setPosts","navigate","getAllPosts","allPosts","getPosts","console","log","error","handleDelete","e","id","preventDefault","deletePost","filteredPosts","filter","post","_id","handleClick","sx","display","gap","children","map","_post$uploadFiles$","style","flexDirection","justifyContent","backgroundColor","padding","borderRadius","boxShadow","uploadFiles","length","width","height","objectFit","src","Location","alt","fileName","_jsxFileName","lineNumber","columnNumber","title","flex","content","variant","mb","onClick","_c","$RefreshReg$"],"sources":["/Users/martincantonny/Desktop/code/atelier/clone-lbc/mongoose/app/src/components/posts/PostList.jsx"],"sourcesContent":["import { Box, Button } from \"@mui/material\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport PostsService from \"../../src/services/post.service\";\n\nconst PostList = () => {\n  const [posts, setPosts] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    getAllPosts();\n  }, []);\n\n  const getAllPosts = async () => {\n    try {\n      const allPosts = await PostsService.getPosts();\n      setPosts(allPosts);\n      console.log(allPosts);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleDelete = (e, id) => {\n    e.preventDefault();\n    PostsService.deletePost(id);\n    const filteredPosts = posts.filter((post) => post._id !== id);\n    setPosts(filteredPosts);\n  };\n\n  const handleClick = (e, id) => {\n    navigate(`/posts/${id}`);\n  };\n\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        gap: 5,\n      }}\n    >\n      {posts?.map((post) => (\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            gap: \"10px\",\n            justifyContent: \"center\",\n            backgroundColor: \"white\",\n            padding: \"20px\",\n            borderRadius: \"10px\",\n            boxShadow: \"0 0 10px 0 rgba(0, 0, 0, 0.2)\",\n          }}\n          key={post.id}\n        >\n          {post._id && post.uploadFiles.length > 0 && (\n            <img\n              style={{ width: \"300px\", height: \"150px\", objectFit: \"cover\" }}\n              src={post.uploadFiles[0]?.Location}\n              alt=\"\"\n            />\n          )}\n          <h2>{post.title}</h2>\n          <p\n            style={{\n              flex: 1,\n            }}\n          >\n            {post.content}\n          </p>\n          <Box sx={{ display: \"flex\", gap: 2 }}>\n            <Button\n              variant=\"outlined\"\n              sx={{ mb: 4, width: \"100%\" }}\n              onClick={(e) => handleClick(e, post._id)}\n            >\n              voir\n            </Button>\n            <Button\n              variant=\"outlined\"\n              sx={{ mb: 4, width: \"100%\" }}\n              onClick={(e) => handleDelete(e, post._id)}\n            >\n              Delete\n            </Button>\n          </Box>\n        </div>\n      ))}\n    </Box>\n  );\n};\n\nexport default PostList;\n"],"mappings":";;AAAA,SAASA,GAAG,EAAEC,MAAM,QAAQ,eAAe;AAC3C,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,YAAY,MAAM,iCAAiC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMU,QAAQ,GAAGR,WAAW,EAAE;EAE9BD,SAAS,CAAC,MAAM;IACdU,WAAW,EAAE;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMT,YAAY,CAACU,QAAQ,EAAE;MAC9CJ,QAAQ,CAACG,QAAQ,CAAC;MAClBE,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;IACvB,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;IACpB;EACF,CAAC;EAED,MAAMC,YAAY,GAAGA,CAACC,CAAC,EAAEC,EAAE,KAAK;IAC9BD,CAAC,CAACE,cAAc,EAAE;IAClBjB,YAAY,CAACkB,UAAU,CAACF,EAAE,CAAC;IAC3B,MAAMG,aAAa,GAAGd,KAAK,CAACe,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,GAAG,KAAKN,EAAE,CAAC;IAC7DV,QAAQ,CAACa,aAAa,CAAC;EACzB,CAAC;EAED,MAAMI,WAAW,GAAGA,CAACR,CAAC,EAAEC,EAAE,KAAK;IAC7BT,QAAQ,CAAE,UAASS,EAAG,EAAC,CAAC;EAC1B,CAAC;EAED,oBACEd,OAAA,CAACP,GAAG;IACF6B,EAAE,EAAE;MACFC,OAAO,EAAE,MAAM;MACfC,GAAG,EAAE;IACP,CAAE;IAAAC,QAAA,EAEDtB,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEuB,GAAG,CAAEP,IAAI;MAAA,IAAAQ,kBAAA;MAAA,oBACf3B,OAAA;QACE4B,KAAK,EAAE;UACLL,OAAO,EAAE,MAAM;UACfM,aAAa,EAAE,QAAQ;UACvBL,GAAG,EAAE,MAAM;UACXM,cAAc,EAAE,QAAQ;UACxBC,eAAe,EAAE,OAAO;UACxBC,OAAO,EAAE,MAAM;UACfC,YAAY,EAAE,MAAM;UACpBC,SAAS,EAAE;QACb,CAAE;QAAAT,QAAA,GAGDN,IAAI,CAACC,GAAG,IAAID,IAAI,CAACgB,WAAW,CAACC,MAAM,GAAG,CAAC,iBACtCpC,OAAA;UACE4B,KAAK,EAAE;YAAES,KAAK,EAAE,OAAO;YAAEC,MAAM,EAAE,OAAO;YAAEC,SAAS,EAAE;UAAQ,CAAE;UAC/DC,GAAG,GAAAb,kBAAA,GAAER,IAAI,CAACgB,WAAW,CAAC,CAAC,CAAC,cAAAR,kBAAA,uBAAnBA,kBAAA,CAAqBc,QAAS;UACnCC,GAAG,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAET,eACD9C,OAAA;UAAAyB,QAAA,EAAKN,IAAI,CAAC4B;QAAK;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAM,eACrB9C,OAAA;UACE4B,KAAK,EAAE;YACLoB,IAAI,EAAE;UACR,CAAE;UAAAvB,QAAA,EAEDN,IAAI,CAAC8B;QAAO;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACX,eACJ9C,OAAA,CAACP,GAAG;UAAC6B,EAAE,EAAE;YAAEC,OAAO,EAAE,MAAM;YAAEC,GAAG,EAAE;UAAE,CAAE;UAAAC,QAAA,gBACnCzB,OAAA,CAACN,MAAM;YACLwD,OAAO,EAAC,UAAU;YAClB5B,EAAE,EAAE;cAAE6B,EAAE,EAAE,CAAC;cAAEd,KAAK,EAAE;YAAO,CAAE;YAC7Be,OAAO,EAAGvC,CAAC,IAAKQ,WAAW,CAACR,CAAC,EAAEM,IAAI,CAACC,GAAG,CAAE;YAAAK,QAAA,EAC1C;UAED;YAAAkB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAS,eACT9C,OAAA,CAACN,MAAM;YACLwD,OAAO,EAAC,UAAU;YAClB5B,EAAE,EAAE;cAAE6B,EAAE,EAAE,CAAC;cAAEd,KAAK,EAAE;YAAO,CAAE;YAC7Be,OAAO,EAAGvC,CAAC,IAAKD,YAAY,CAACC,CAAC,EAAEM,IAAI,CAACC,GAAG,CAAE;YAAAK,QAAA,EAC3C;UAED;YAAAkB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAS;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACL;MAAA,GAhCD3B,IAAI,CAACL,EAAE;QAAA6B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAiCR;IAAA,CACP;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACE;AAEV,CAAC;AAAC5C,EAAA,CArFID,QAAQ;EAAA,QAEKJ,WAAW;AAAA;AAAAwD,EAAA,GAFxBpD,QAAQ;AAuFd,eAAeA,QAAQ;AAAC,IAAAoD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}